---
layout: post
author: ndifix
title: 京大理系数学2020(4)-整数問題
date: 2021-08-26 0:0:0
categories: 過去問
---

訳あって先日タイトルの問題を見ることがあったのですが、ネットに落ちてる解説に不満があったので自分が思う模範解答を落書きしておきます。

まず問題は次の通り

***

正の整数 $a$ に対して、$a=3^bc$ ($b,c$は整数で$c$は$3$で割り切れない) の形に書いたとき、$B(a) = b$ と定める。\\
$m,n$ は整数で、$1\leq m,n\leq 30$ かつ $n$は$3$で割り切れないとする。\\
このような $m,n$について $f(m,n) = m^3+n^2+n+3$ とするとき、$A(m,n)=B(f(m,n))$ の最大値を求め、最大値を与える $(m,n)$ の組をすべて求めよ

***

どうやら3でいっぱい割りたいらしい。\\
将来過去問を解くときにネタバレをされたくない人のために解答部分は隠しておきます。

<details><summary>解答例はここをクリック</summary><div>
<br><br>

$
正の整数 \alpha,\beta,\gamma,\delta について、\alpha<\gamma であり \beta,\delta がともに3の倍数でないならば、\\
3^\alpha\beta + 3^\gamma\delta = 3^\alpha(\beta + 3^{\gamma-\alpha}-\delta) であり、\beta + 3^{\gamma-\alpha}-\delta は3の倍数ではない。\\
したがって B(x) < B(y) ならば B(x+y) = B(x)。\\
$
<br>
$
B(n^2+n+3) \geq 2 を満たすnの条件を調べる。\\
B(n^2+n+3) \geq 1 であるためには n^2+n+3  = n(n+1)+3 が\\
3の倍数であることが必要十分だが、nは3の倍数ではないので n\equiv 2 \mod 3 が必要。\\
ここで整数cを用いて n = 3c-1 とする。 (1\leq c \leq 10)\\
また、 B(n^2+n+3) = B(3(nc+1)) \geq 2 には B(nc+1) \geq 1 が必要。\\
n\equiv 2\mod 3 なのでc\equiv 1\mod 3 が必要。\\
c=1,4,7,10 それぞれについて対応するnの値は n=2,11,20,29。\\
n=2  のとき B(n^2+n+3) = B(9)   =2\\
n=11 のとき B(n^2+n+3) = B(135) =3\\
n=20 のとき B(n^2+n+3) = B(423) =2\\
n=29 のとき B(n^2+n+3) = B(873) =2\\
$
<br>
$
一方で、B(m^3) はmの値に依らず3の倍数になる。\\
以上から、B(f(m,n))\geq 4 であるためには\\
B(m^3)=B(n^2+n+3)=0 または B(m^3)=B(n^2+n+3)=3が必要。\\
$
<br>
$
B(m^3)=B(n^2+n+3)=3 となるとき、上記の考察からn=11であり、\\
また、mは3の倍数であって9の倍数でない。\\
つまり、整数d を用いて m=9d\pm 3 と表せる。\\
ここで\\
$


$$
\begin{aligned}
f(m,n)
&= (9d\pm 3)^3 + 135\\
&= 27((3d\pm 1)^3 + 5)\\
&= 3^3(27d^3 \pm 27d^2 + 9d \pm 1 + 5)\\
\end{aligned}
$$
<br>

$
故にB(f(m,n)) \geq 4 ということとm=9d+3 なる整数dが存在することは同値。\\
さらにこのとき、
$

<br>
$$
\begin{aligned}
f(m,n)
&= 3^3(27d^3 + 27d^2 + 9d + 1 + 5)\\
&= 3^4(9d^3 + 9d^2 + 3d + 2)
\end{aligned}
$$
<br>

であるからdの値に依らず B(f(m,n))=4 となっている。\\
この条件を満たすdの値は d=0,1,2,3。対応するmの値は m=3,12,21,30 なので\\
B(m^3)=B(n^2+n+3)=3 を満たすm,n の中では
(m,n) = (3,11), (12,11), (21,11), (30,11) のみが B(f(m,n)) = 4 を満たす。\\

<br>
$
B(m^3)=B(n^2+n+3)=0 となるとき、mは3の倍数ではなく、n\equiv 1 \mod 3。\\
m = 3e\pm 1, n=3g+1 とすると\\
$

$$
\begin{aligned}
f(m,n)
&= (3e\pm 1)^3 + (3g+1)^2 + (3g+1) +3\\
&= 27e^3 \pm 27e^2 +9e \pm 1 + 9g^2 + 9g + 5\\
&= 3^2(3e^3 \pm 3e^2 + e + g^2 + 9g + ) \pm 1 + 5\\
\end{aligned}
$$
<br>

$
なので e,g の値に拘わらず B(f(m,n)) < 2。\\
$
<br>
$
以上から A(m,n) = B(f(m,n)) の最大値は4であり、これを満たす(m,n) の組は\\
(m,n) = (3,11), (12,11), (21,11), (30,11) に限られる。
$

</div></details>

<br><br>
ネットに落ちてる場合分けマシマシの方法では確かに時間内に解き切るのは難しそうだけどこれならぐっとハードル下がるんじゃないかなあ...
高校数学の美しい物語の方法はまだ試験中にできそう
